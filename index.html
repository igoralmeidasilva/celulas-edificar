<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>C√©lulas com Bot√µes Flutuantes</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background-color: #f4f4f4;
      margin-bottom: 120px; /* espa√ßo para bot√µes flutuantes */
    }
    h1, h2 {
      color: #006400;
    }
    .bairro {
      margin-bottom: 20px;
      background-color: #e0ffe0;
      padding: 15px;
      border-radius: 10px;
    }
    .celula {
      margin-bottom: 10px;
      padding-left: 10px;
    }

    /* Bot√µes flutuantes */
    .botao-flutuante-container {
      position: fixed;
      bottom: 20px;
      right: 20px;
      display: flex;
      flex-direction: column;
      gap: 20px;
      z-index: 1000;
      font-size: 14px;
      user-select: none;
    }

    .grupo-botoes {
      background: #fff;
      border-radius: 10px;
      padding: 10px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.2);
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      max-width: 300px;
    }

    .grupo-botoes span {
      font-weight: bold;
      margin-right: 8px;
      white-space: nowrap;
      align-self: center;
    }

    .botao-flutuante {
      padding: 6px 12px;
      border: none;
      background-color: #006400;
      color: white;
      border-radius: 20px;
      cursor: pointer;
      transition: background-color 0.3s;
      flex-shrink: 0;
    }
    .botao-flutuante:hover {
      background-color: #004d00;
    }
    .botao-flutuante.selecionado {
      background-color: #00a000;
      font-weight: bold;
    }

    /* Responsivo */
    @media(max-width: 480px) {
      .botao-flutuante-container {
        right: 10px;
        bottom: 10px;
        max-width: 90vw;
      }
      .grupo-botoes {
        max-width: 100%;
        justify-content: center;
      }
    }
  </style>
</head>
<body>

  <h1>C√©lulas com Bot√µes Flutuantes</h1>

  <div id="celulas-container"></div>

  <!-- Bot√µes flutuantes -->
  <div class="botao-flutuante-container">

    <div class="grupo-botoes" id="grupo-redes">
      <span>Rede:</span>
      <!-- botoes rede gerados via JS -->
    </div>

    <div class="grupo-botoes" id="grupo-dias">
      <span>Dia:</span>
      <!-- botoes dia gerados via JS -->
    </div>

  </div>

  <script>
    const dadosCelulas = {
      rede6: {
        "quarta-feira": [
          {
            bairro: "Jardim das Palmeiras",
            nome: "C√©lula Beloved Children",
            endereco: "Rua do Gar√ßom, 907",
            horario: "19:30"
          },
          {
            bairro: "Jardim Holanda",
            nome: "C√©lula United",
            endereco: "Rua Alameda Jos√© Salvador Silva, 595",
            horario: "19:30"
          },
          {
            bairro: "Jardim Holanda",
            nome: "C√©lula Girls Connected",
            endereco: "Rua Alameda Emiliano Borges Silva, 201",
            horario: "19:30"
          }
        ],
        "quinta-feira": [
          {
            bairro: "Segismundo Pereira",
            nome: "C√©lula √Ågape",
            endereco: "Rua Domingo de Freitas, 1228",
            horario: "19:30"
          }
        ]
      },
      rede1: {
        "quarta-feira": [
          {
            bairro: "Centro",
            nome: "C√©lula Exemplo 1",
            endereco: "Rua Central, 123",
            horario: "20:00"
          }
        ],
        "sexta-feira": [
          {
            bairro: "Vila Nova",
            nome: "C√©lula Exemplo 2",
            endereco: "Rua das Flores, 456",
            horario: "18:30"
          }
        ]
      }
    };

    const redes = Object.keys(dadosCelulas);
    // coletar todos os dias dispon√≠veis em todas as redes para mostrar os bot√µes
    const diasSet = new Set();
    for (const rede of redes) {
      Object.keys(dadosCelulas[rede]).forEach(dia => diasSet.add(dia));
    }
    const dias = Array.from(diasSet).sort();

    let redeSelecionada = redes[0];
    let diaSelecionado = dias[0];

    const grupoRedes = document.getElementById('grupo-redes');
    const grupoDias = document.getElementById('grupo-dias');
    const celulasContainer = document.getElementById('celulas-container');

    // Fun√ß√£o para criar bot√µes e colocar no container
    function criarBotoes(opcoes, container, tipo) {
      opcoes.forEach(opcao => {
        const btn = document.createElement('button');
        btn.className = 'botao-flutuante';
        btn.textContent = (tipo === 'rede') ? formatarRede(opcao) : formatarDia(opcao);
        btn.dataset.valor = opcao;

        btn.addEventListener('click', () => {
          if (tipo === 'rede') {
            redeSelecionada = opcao;
            atualizarSelecionados('rede');
          } else {
            diaSelecionado = opcao;
            atualizarSelecionados('dia');
          }
          atualizarCelulas();
        });

        container.appendChild(btn);
      });
    }

    function formatarRede(chave) {
      // Exemplo simples de nome
      if (chave === 'rede6') return 'Rede 6 (Radicais Livres)';
      if (chave === 'rede1') return 'Rede 1 (Exemplo)';
      return chave;
    }

    function formatarDia(dia) {
      // Deixa o dia com a primeira letra mai√∫scula
      return dia.charAt(0).toUpperCase() + dia.slice(1);
    }

    // Atualiza visual dos bot√µes selecionados
    function atualizarSelecionados(tipo) {
      const container = tipo === 'rede' ? grupoRedes : grupoDias;
      const botoes = container.querySelectorAll('button.botao-flutuante');

      botoes.forEach(btn => {
        if ((tipo === 'rede' && btn.dataset.valor === redeSelecionada) ||
            (tipo === 'dia' && btn.dataset.valor === diaSelecionado)) {
          btn.classList.add('selecionado');
        } else {
          btn.classList.remove('selecionado');
        }
      });
    }

    // Atualiza a lista de c√©lulas exibida
    function atualizarCelulas() {
      celulasContainer.innerHTML = '';
      const celulas = dadosCelulas[redeSelecionada]?.[diaSelecionado] || [];

      if (celulas.length === 0) {
        celulasContainer.innerHTML = '<p>Nenhuma c√©lula encontrada para essa sele√ß√£o.</p>';
        return;
      }

      // Agrupar por bairro
      const bairros = {};
      celulas.forEach(celula => {
        if (!bairros[celula.bairro]) bairros[celula.bairro] = [];
        bairros[celula.bairro].push(celula);
      });

      for (const bairro in bairros) {
        const divBairro = document.createElement('div');
        divBairro.className = 'bairro';

        const h2 = document.createElement('h2');
        h2.textContent = `üìç Bairro ${bairro}`;
        divBairro.appendChild(h2);

        bairros[bairro].forEach(celula => {
          const divCelula = document.createElement('div');
          divCelula.className = 'celula';
          divCelula.innerHTML = `<strong>${celula.nome}</strong><br>üïí ${diaSelecionado} - ${celula.horario}<br>üìç ${celula.endereco}`;
          divBairro.appendChild(divCelula);
        });

        celulasContainer.appendChild(divBairro);
      }
    }

    // Criar os bot√µes na p√°gina
    criarBotoes(redes, grupoRedes, 'rede');
    criarBotoes(dias, grupoDias, 'dia');

    // Selecionar os padr√µes visualmente e mostrar dados
    atualizarSelecionados('rede');
    atualizarSelecionados('dia');
    atualizarCelulas();

  </script>

</body>
</html>
